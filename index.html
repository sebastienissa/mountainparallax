<!-- This is a recreation of Unfold's (https://dribbble.com/unfold) parallax scene: https://cdn.dribbble.com/users/14268/screenshots/3275340/northface.gif -->
<div class="scrollDist"></div>
<main>
  <!-- GSAP Core -->
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

<!-- ScrollTrigger Plugin -->
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<!-- ScrollToPlugin (for smooth scroll on click) -->
<script src="https://unpkg.com/gsap@3/dist/ScrollToPlugin.min.js"></script>

  
  <svg viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
    <mask id="m">
      <g class="cloud1">
        <rect fill="#fff" width="100%" height="801" y="799" />
        <image xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg" width="1200" height="800"/>
      </g>
    </mask>
    
    <image class="sky" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/sky.png?raw=true" width="1200"  />
    <image class="mountBg" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/mountainsBG.png?raw=true" width="1200"/>    
    <image class="mountFg" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/mountainsFG.png?raw=true" width="1200"/>    
    <image class="hillsBG" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/hillsBG.png?raw=true" width="1200"/>
    <image class="hillsMiddle" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/hillsMiddle.png?raw=true" width="1200"/>
    <image class="hillsFg" xlink:href="https://github.com/sebastienissa/mountainparallax/blob/main/HillsFG.png?raw=true" width="1200"/>    
    
    <defs>
  <filter id="textShadow" x="-50%" y="-50%" width="200%" height="200%">
    <feDropShadow dx="2" dy="2" stdDeviation="4" flood-color="black" flood-opacity="0.4" />
  </filter>
    </defs>
    
    <text fill="#fff" x="350" y="200" filter="url(#textShadow)" >EXPLORE</text>
    <polyline class="arrow" fill="#386641" points="599,250 599,289 590,279 590,282 600,292 610,282 610,279 601,289 601,250" />
    
    <g mask="url(#m)">
      <rect fill="#fff" width="100%" height="100%" />      
      <text x="50%" y="200" text-anchor="middle" fill="#386641">BIRCH CREEK</text>
     </g>
    
    <rect id="arrow-btn" width="100" height="100" opacity="0" x="550" y="220" style="cursor:pointer"/>
  </svg>
</main>

<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap');

body, html {
  width:100%;
  height:100%;
  background:#ffffff;
  font-family: 'Montserrat', sans-serif;
  font-size:99px;
  text-align:center;
}

div {
  position:absolute;
}

main {
  position: fixed;
  width: 100vw;
  height: 50vh;
  top: 0;
  left: 0;
  background: transparent;
  transform: none; /* or remove it */
}

.scrollDist {
  width:100%;
  height:200%;
}

svg {
  display: block;
  width: 100vw;
}
  
</style>

<script>
gsap
  .timeline({
    scrollTrigger:{
      trigger:'.scrollDist',
      start:'0 0',
      end:'200% 200%',
      scrub:1
    }})
    .fromTo('.sky',         { y: 0 }, { y: -100 }, 0)
    .fromTo('.mountBg',     { y: 0 }, { y: -200 }, 0)
    .fromTo('.mountFg',     { y: 0 }, { y: -300 }, 0)
    .fromTo('.hillsBG',     { y: 0 }, { y: -750 }, 0)
    .fromTo('.hillsMiddle', { y: -10 }, { y: -850 }, 0)
    .fromTo('.hillsFg',     { y: -10 }, { y: -950 }, 0)
    .fromTo('.cloud1',      { y: 0 }, { y: -1050 }, 0);


const arrowBtn = document.querySelector('#arrow-btn')

arrowBtn.addEventListener('mouseenter', ()=>{
 gsap.to('.arrow', {y:10, duration:0.8, ease:'back.inOut(3)', overwrite:'auto'}) 
})

arrowBtn.addEventListener('mouseleave', ()=> {
  gsap.to('.arrow', {y:0, duration:0.5, ease:'power3.out', overwrite:'auto'}) 
})

arrowBtn.addEventListener('click', ()=> {
  gsap.to(window, {scrollTo:innerHeight, duration:3.5, ease:'power1.inOut'})
}) 
  
</script>
  
